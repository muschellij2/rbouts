select(fromPre,from,to,toPost)
}
intervalBED=function(intervalSIB,intervalQuiet,distance1=dminutes(30), distance2=dminutes(5)){
sibOverQuiet=intervalConnectedOverInterval(intervalSIB,intervalQuiet,distance1=distance1, distance2=distance2)
sibOverQuiet_justSIB=sibOverQuiet %>% intervalIntersect(intervalSIB)
sibOverQuiet_justSIB_hours = sibOverQuiet_justSIB%>%
mutate(hours=as.numeric(difftime(toNew,fromNew,units="hours"))) %>%
group_by(from,to) %>%
summarise(hours=sum(hours),center=first(fromNew)+difftime(last(toNew),first(fromNew))/2) %>%
mutate(day=as_date(center+dhours(2))) %>% ungroup()
sibOverQuiet_justSIB_Maxhours = sibOverQuiet_justSIB_hours %>%
group_by(day) %>%
summarise(hours=max(hours))
sibOverQuiet_justSIB_hours %>% inner_join(sibOverQuiet_justSIB_Maxhours) %>%
select(from,to,day,hours) %>%
left_join (sibOverQuiet) %>%
mutate(
startBed=fromPre,
startSleep=from,
endSleep=to,
endBed=toPost,
sleepHours=hours,
sleepEfficiency=sleepHours/as.numeric(difftime(endSleep,startSleep,units="hours"))*100,
bedHours=as.numeric(difftime(endBed,startBed,units="hours")),
minutesBedToSleep=as.numeric(difftime(startSleep,startBed,units="mins"))
) %>%
select(day,startBed,startSleep,endSleep,endBed,sleepHours,sleepEfficiency,bedHours,minutesBedToSleep)
}
source('C:/Users/fjbar/Dropbox/www/github/acelerometria/R/basicoDeBoutsV2.R', encoding = 'UTF-8')
setwd("C:/Users/fjbar/Dropbox/www/rapache/informePaciente")
library(acelerometria)
?criterioENMO
library(acelerometria)
?criterioENMO
??criterioENMO
install.packages("roxygen2")
library(acelerometria)
?criterioENMO
library(acelerometria)
?criterioENMO
library(acelerometria)
?acelerometria
??acelerometria
help("acelerometria")
?criterioENMO
library(acelerometria)
?criterioENMO
library(acelerometria)
?criterioENMO
library(acelerometria)
?criterioENMO
?car
?cars
?criterioENMO
library(acelerometria)
?criterioENMO
library(acelerometria)
library(acelerometria)
?criterioENMO
criterioENMO=function(df,limInf=0,limSup=Inf){
#' \code{criterioENMO} generates a vector that indicates for each row of a dataframe (usually epoch or BIN file) if that row verifies the condition
#'    limInf<=df$ENMO <=limSup
#'
#' \code{df} is a dataframe that represents an accelerometry file with a column called "ENMO" (and optionally, a column called ".criterioNW" that represents NonWear time),
#'
#'
#'
#'@param df data frame with columns ENMO and .criterioNW
#'@param limInf inferior limit for ENMO
#'@param limSup superior limit for ENMO
#'
#' @return a boolean vector (TRUE/FAlSE) indicating if the condition is meet.
#'
#' @export
#'
if(! (df %>%assertthat::has_name(".criterioNW"))) df$.criterioNW=FALSE
df %>% mutate(.criterio= ENMO>=limInf & ENMO<=limSup & (!.criterioNW)) %>%.[[".criterio"]]
}
?criterioENMO
library(acelerometria)
?criterioENMO
library(acelerometria)
?criterioENMO
library(acelerometria)
?criterioENMO
library(acelerometria)
source('C:/Users/fjbar/Dropbox/www/rapache/informePaciente/unInformeBin.R', encoding = 'UTF-8', echo=TRUE)
setwd("C:/Users/fjbar/Dropbox/www/rapache/informePaciente")
library(stringr)
library(xtable)
library(stringi)
library(dplyr)
library(stringr)
install.packages(c("MASS", "mgcv", "survival"), lib="C:/Users/fjbar/Dropbox/www/github/acelerometria/packrat/lib-R/x86_64-w64-mingw32/3.5.0")
library(stringr)
library(stringr)
Sys.getenv()
library(stringr)
library(acelerometria)
library(acelerometria)
listaIntervalos=
list(
cama=cama %>% transmute(from=startBed,to=endBed),
dormir=cama %>% transmute(from=startSleep,to=endSleep)
) %>% append (calculos %>% map("intervals"))
packrat::disable()
source('C:/Users/fjbar/Dropbox/www/github/acelerometria/R/basicVariablesJW.R', encoding = 'UTF-8', echo=TRUE)
source('C:/Users/fjbar/Dropbox/www/github/acelerometria/R/basicVariablesJW.R', encoding = 'UTF-8', echo=TRUE)
source('C:/Users/fjbar/Dropbox/www/github/acelerometria/R/basicVariablesJW.R', encoding = 'UTF-8', echo=TRUE)
source('C:/Users/fjbar/Dropbox/www/github/acelerometria/R/basicVariables.R', echo=TRUE)
library(acelerometria)
setwd("C:/Users/fjbar/Dropbox/www/github/acelerometria/R")
library(acelerometria)
library(acelerometria)
setwd("C:/Users/fjbar/Dropbox/www/app-icapdata/jb-predimedplus/IMIM/31.jijir/nuevasVariables")
setwd("C:/Users/fjbar/Dropbox/www/app-icapdata/jb-predimedplus/IMIM/31.jijir/nuevasVariables")
save(dfGlobal,file = "variablesAntoniColom.RData")
source('C:/Users/fjbar/Dropbox/www/app-icapdata/jb-predimedplus/IMIM/31.jijir/nuevasVariables/paraAntoniColom.R', echo=TRUE)
load("variablesAntoniColom.RData")
library(lubridate)
library(tidyverse)
library(caTools)
library(openxlsx)
library(parallel)
library(lubridate)
library(purrr)
load("variablesAntoniColom.RData")
dfGlobal
inicio=min(dfGlobal$desde)
inicio
fin=max(dfGlobal$hasta)
inicio
fin
inicio=as.Date(min(dfGlobal$desde))
fin=as.Date(max(dfGlobal$hasta))
inicio
fin
fin-inicio
for (dia in inicio:fin){
cat(dia,"\ ")
}
numDias=difftime(fin,inicio)
numDias
numDias=difftime(fin,inicio,units = "days")
numDias
numDias=as.integer(difftime(fin,inicio,units = "days"))
numDias
library(jsonlite)
Sys.sleep(5)
Sys.sleep(5)
inicio
fecha=as.character(inicio)
horaFin="23:59:59UTC
estacion="6155A"
estacion="6155A"
horaFin="23:59:59UTC"
URL1=sprintf("https://opendata.aemet.es/opendata/api/valores/climatologicos/diarios/datos/fechaini/%sT%s/fechafin/%sT%s/estacion/%s/?api_key=%s",
fecha,horaInicio,fecha,horaFin,estacion,api_key)
horaInicio="00:00:00UTC"
URL1=sprintf("https://opendata.aemet.es/opendata/api/valores/climatologicos/diarios/datos/fechaini/%sT%s/fechafin/%sT%s/estacion/%s/?api_key=%s",
fecha,horaInicio,fecha,horaFin,estacion,api_key)
api_key="eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiYXJvbkB1bWEuZXMiLCJqdGkiOiJkMDY4NmY3NC04ZDFhLTQyNWQtOTdhNi01OTgwOTQ1NzNlZWQiLCJpc3MiOiJBRU1FVCIsImlhdCI6MTUzNDE3MDQ3NSwidXNlcklkIjoiZDA2ODZmNzQtOGQxYS00MjVkLTk3YTYtNTk4MDk0NTczZWVkIiwicm9sZSI6IiJ9.PygKv7FFGBMSI9VW9hN-gmXHz5apXrV-MopDP1WirOg"
URL1=sprintf("https://opendata.aemet.es/opendata/api/valores/climatologicos/diarios/datos/fechaini/%sT%s/fechafin/%sT%s/estacion/%s/?api_key=%s",
fecha,horaInicio,fecha,horaFin,estacion,api_key)
URL1
library(curl)
library(rcurl)
library(RCurl)
library(jsonlite)
library(RCurl)
fase1<- fromJSON(URL1)
fase1
fase1$estado=="200"
fase1$estado==200
fase2<-fromJSON(fase1$datos)
options(encoding="UTF-8")
fase2<-fromJSON(fase1$datos,)
req <- curl_fetch_memory(fase1$datos)
req
rawToChar(req$content))
rawToChar(req$content)
URL1=sprintf("https://opendata.aemet.es/opendata/api/valores/climatologicos/diarios/datos/fechaini/%sT%s/fechafin/%sT%s/estacion/%s/?api_key=%s",
fecha,horaInicio,fecha,horaFin,estacion,api_key)
fase1<- fromJSON(URL1)
req <- curl_fetch_memory(fase1$datos)
rawToChar(req$content)
str(req)
rawToChar(req$content)
jsonlite::fromJSON(rawToChar(req$content))
fromJSON(rawToChar(req$content))
class(fromJSON(rawToChar(req$content)))
fromJSON(rawToChar(req$content)) %>% as_tibble()
leeAEMET=function(fecha,horaInicio="00:00:00UTC",horaFin="23:59:59UTC",estacion="6155A",api_key="",sleep=5){
URL1=sprintf("https://opendata.aemet.es/opendata/api/valores/climatologicos/diarios/datos/fechaini/%sT%s/fechafin/%sT%s/estacion/%s/?api_key=%s",
fecha,horaInicio,fecha,horaFin,estacion,api_key)
fase1<- fromJSON(URL1)
if(fase1$estado!=200) return (NULL)
req <- curl_fetch_memory(fase1$datos)
fromJSON(rawToChar(req$content)) %>% as_tibble()
}
esteDia=inicio+i
i=0
esteDia=inicio+i
esteDia
leeAEMET=function(fecha,horaInicio="00:00:00UTC",horaFin="23:59:59UTC",estacion="6155A",api_key="",sleep=5){
URL1=sprintf("https://opendata.aemet.es/opendata/api/valores/climatologicos/diarios/datos/fechaini/%sT%s/fechafin/%sT%s/estacion/%s/?api_key=%s",
fecha,horaInicio,fecha,horaFin,estacion,api_key)
Sys.sleep(sleep)
fase1<- fromJSON(URL1)
if(fase1$estado!=200) return (NULL)
req <- curl_fetch_memory(fase1$datos)
fromJSON(rawToChar(req$content)) %>% as_tibble()
}
total=NULL
i=0
for (i in (0:(10+0*numDias)){
source('C:/Users/fjbar/Dropbox/www/app-icapdata/jb-predimedplus/IMIM/31.jijir/nuevasVariables/paraAntoniColom_parte2.R', echo=TRUE)
source('C:/Users/fjbar/Dropbox/www/app-icapdata/jb-predimedplus/IMIM/31.jijir/nuevasVariables/paraAntoniColom_parte2.R', echo=TRUE)
source('C:/Users/fjbar/Dropbox/www/app-icapdata/jb-predimedplus/IMIM/31.jijir/nuevasVariables/paraAntoniColom_parte2.R', echo=TRUE)
source('C:/Users/fjbar/Dropbox/www/app-icapdata/jb-predimedplus/IMIM/31.jijir/nuevasVariables/paraAntoniColom_parte2.R', echo=TRUE)
source('C:/Users/fjbar/Dropbox/www/app-icapdata/jb-predimedplus/IMIM/31.jijir/nuevasVariables/paraAntoniColom_parte2.R', echo=TRUE)
total
v1=(2,1)
v1=c(2,1)
v2=c(-2,-1)
M=cbind(v1,v2)
M
df=data.frame(t(M))
df
p0 <- ggplot(df, aes(x=0,y=0,xend = X1, yend = X2)) +
coord_cartesian(xlim = c(-10,10),ylim = c(-10,10)) +
geom_segment()
library(shiny)
library(tidyverse)
library(ggplot2)
p0 <- ggplot(df, aes(x=0,y=0,xend = X1, yend = X2)) +
coord_cartesian(xlim = c(-10,10),ylim = c(-10,10)) +
geom_segment()
p0
p0 <- ggplot(df, aes(x=0,y=0,xend = X1, yend = X2)) +
coord_cartesian(xlim = c(-10,10),ylim = c(-10,10)) +
geom_segment(arrow=arrow())
p0
M=cbind(v1,v2)
tM=t(M);names(tM)=c("xend","yend")
df=data.frame(x=c(0,0),y=c(0,0),tM)
df
tM=t(M);names(tM)=c("xend","yend")
tM
tM=data.frame(t(M));names(tM)=c("xend","yend")
tM
df=data.frame(x=c(0,0),y=c(0,0),tM)
df
p0 <- ggplot(df, aes(x=x,y=y,xend = X1, yend = X2)) +
coord_cartesian(xlim = c(-10,10),ylim = c(-10,10)) +
geom_segment(arrow=arrow())
p0
p0 <- ggplot(df, aes(x=x,y=y,xend = xend, yend = yend)) +
coord_cartesian(xlim = c(-10,10),ylim = c(-10,10)) +
geom_segment(arrow=arrow())
p0
p0 <- ggplot(df, aes(x=x,y=y,xend = xend, yend = yend)) +
coord_cartesian(xlim = c(-10,10),ylim = c(-10,10)) +
geom_segment(arrow=arrow())+
geom_point( size=4, shape=21, fill="white")+
theme_set(theme_minimal(base_size = 18))
p0
p0 <- ggplot(df, aes(x=x,y=y,xend = xend, yend = yend)) +
coord_cartesian(xlim = c(-10,10),ylim = c(-10,10)) +
geom_segment(arrow=arrow())+
geom_point( size=4, shape=21, fill="white")+
theme_minimal()
p0
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
df
M
dfPoly=tribble(~x, ~y, 0,0,v1,v2,v1+v2)
dfPoly=tribble(~x, ~y, 0,0,v1[1],v1[2],v2[1],v2[2],v1[1]+v2[1],v1[2]+v2[2])
dfPoly
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
M=cbind(v1,v2)
tM=data.frame(t(M));names(tM)=c("xend","yend")
tM
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
determinant(M)
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
espaciado=seq(-10,10,by=1)
espaciado
malla=expand.grid(x=espaciado,y=espaciado)
malla
p0 <- ggplot(df, aes(x=x,y=y)) +
coord_cartesian(xlim = c(-6,6),ylim = c(-6,6)) +
geom_segment(aes(xend = xend, yend = yend),arrow=arrow( type = "closed"))+
geom_point( size=4, shape=21, fill="white")+
scale_x_continuous(breaks=-10:10,minor_breaks=NULL)+
scale_y_continuous(breaks=-10:10,minor_breaks=NULL)+
geom_polygon(data=dfPoly,aes(x=x,y=y),fill=color)+
geom_point(data = malla,aes(x=x,y=y))+
theme_minimal()
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
M_malla=M%*%malla
M
class(M)
class(malla)
M_malla=M%*%as.matrix(malla)
as.matrix(malla)
M
M_malla=M * as.matrix(malla)
M
as.matrix(malla)
M_malla=M *%* as.matrix(malla)
M_malla=M %*% as.matrix(malla)
malla=as.matrix(expand.grid(x=espaciado,y=espaciado))
M_malla=M %*% malla
M_malla
malla=as.matrix(expand.grid(x=espaciado,y=espaciado))
M_malla=M %*% malla
class(M)
class(Malla)
class(malla)
dim(M)
dim(malla)
M_malla=M %*% t(malla)
M_malla
M_malla=malla %*% M
M_malla
dim(M_malla)
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
M_malla=data.frame(malla %*% M)
M_malla
names(M_malla)
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
M_malla=data.frame(t(malla %*% t(M)))
M_malla
M_malla=data.frame(malla %*% t(M))
M_malla
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
M_malla
espaciado
?expand.grid
malla_h=data.frame(y=espaciado,yend=espaciado,x=-lMalla,yend=lMalla)
lMalla=10
malla_h=data.frame(y=espaciado,yend=espaciado,x=-lMalla,yend=lMalla)
malla_h
malla_h=data.frame(x=lMalla,y=espaciado)
malla_h
malla_h1=data.frame(x=-lMalla,y=espaciado)
malla_h2=data.frame(x=lMalla,y=espaciado)
malla_h1=data.frame(x=-lMalla,y=espaciado)
malla_h2=data.frame(x=lMalla,y=espaciado)
malla_h=data.frame(malla_h1 %*% t(M))
malla_h1=data.frame(x=-lMalla,y=espaciado)
malla_h2=data.frame(x=lMalla,y=espaciado)
malla_h2=as.matrix(data.frame(x=lMalla,y=espaciado))
malla_h1=as.matrix(data.frame(x=-lMalla,y=espaciado))
malla_h2=as.matrix(data.frame(x=lMalla,y=espaciado))
malla_h=data.frame(malla_h1 %*% t(M))
names(malla_h=c("x","y")
determinante=v1[1]*v2[2]-v1[2]*v2[1]
color=ifelse(sign(determinante)==1,"#FF000055","#0000FF55")
p0 <- ggplot(df, aes(x=x,y=y)) +
coord_cartesian(xlim = c(-6,6),ylim = c(-6,6)) +
geom_segment(aes(xend = xend, yend = yend),arrow=arrow( type = "closed"))+
geom_point( size=4, shape=21, fill="white")+
scale_x_continuous(breaks=-10:10,minor_breaks=NULL)+
scale_y_continuous(breaks=-10:10,minor_breaks=NULL)+
geom_polygon(data=dfPoly,aes(x=x,y=y),fill=color)+
geom_point(data = M_malla,aes(x=x,y=y))+
theme_minimal()
p0
}, width = 500, height = 500)
names(malla_h)=c("x","y")
malla_h
v1=c(2,0)
v2=c(0,3)
M=cbind(v1,v2)
tM=data.frame(t(M));names(tM)=c("xend","yend")
df=data.frame(x=c(0,0),y=c(0,0),tM)
dfPoly=tribble(~x, ~y, 0,0,v1[1],v1[2],v1[1]+v2[1],v1[2]+v2[2],v2[1],v2[2])
lMalla=10
espaciado=seq(-lMalla,lMalla,by=1)
malla=as.matrix(expand.grid(x=espaciado,y=espaciado))
M_malla=data.frame(malla %*% t(M))
names(M_malla)=c("x","y")
malla_h1=as.matrix(data.frame(x=-lMalla,y=espaciado))
malla_h2=as.matrix(data.frame(x=lMalla,y=espaciado))
malla_h=data.frame(malla_h1 %*% t(M))
names(malla_h)=c("x","y")
malla_h
malla_h=data.frame(malla_h1 %*% t(M)) %>% cbind (data.frame(malla_h2 %*% t(M)))
names(malla_h)=c("x","y","xend","yend")
malla_h
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
malla_h=data.frame(malla_h1 %*% t(M)) %>% cbind (data.frame(malla_h2 %*% t(M)))
names(malla_h)=c("x","y","xend","yend")
malla_h
class(malla_h)
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
runApp('C:/Users/fjbar/Dropbox/www/shiny/correlacion')
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
entrada=c(2,1)
datosEntrada=as.matrix(data.frame(x=0,y=0,xend=vectorEntrada()[1],yend=vectorEntrada()[2]))
datosEntrada=as.matrix(data.frame(x=0,y=0,xend=entrada[1],yend=entrada[2]))
datosEntrada
salida=data.frame(entrada %*% t(M))
salida
entrada
salida=data.frame(datosEntrada %*% t(M))
M
salida=data.frame(entrada %*% t(M))
salida
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
datosEntrada=as.matrix(data.frame(x=0,y=0,xend=entrada[1],yend=entrada[2]))
salida=data.frame(entrada %*% t(M)) %>% as.numeric()
dfVector= tribble(~x,~y,~xend,~yend,~linea,
0,0,entrada[1],entrada[2],"entrada",
0,0,salida[1],salida[2],"salida")
dfVector
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
dfVector
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
?renderPlotly
runApp('C:/Users/fjbar/Dropbox/www/shiny/lineal/matriz')
library(dygraphs)
v1
v2
df
source('C:/Users/fjbar/Dropbox/www/github/acelerometria/R/criterioNoMVPA.R', echo=TRUE)
library(acelerometria)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(openxlsx)
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
diario=dfBoutDaily %>% head()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(openxlsx)
dfOld=read.xlsx("ReposoOct2017.xlsx",1) %>% select(Codigo, dur_TSIBday_min_mean_v00) %>%
mutate(conDatosOld=!is.na(dur_TSIBday_min_mean_v00))
dfOld %>% head() %>% knitr::kable()
load("_paraIMIM.RData")
dfNew= dfLong %>% filter(Tiempo==0) %>% select(Nodo,Codigo,subgr_prot_acc,SIB_bedtime_mean) %>% mutate(conDatosNew=!is.na(SIB_bedtime_mean))
dfNew%>% head() %>% knitr::kable()
dfOld$conDatosOld %>% table()
dfNew$conDatosNew %>% table()
dfJuntas= dfNew %>% inner_join(dfOld)
dfJuntas %>% head() %>% knitr::kable()
dfJuntas %>% group_by(conDatosOld,conDatosNew) %>% tally()
dfJuntas %>% group_by(Nodo,conDatosOld,conDatosNew) %>% tally() %>% filter(conDatosOld & !conDatosNew) %>%
knitr::kable()
dfNew %>% filter(subgr_prot_acc==1) %>% .[["conDatosNew"]] %>% table() %>% knitr::kable()
dfJuntas %>% filter(subgr_prot_acc==1)%>% group_by(conDatosOld,conDatosNew) %>% tally() %>% knitr::kable()
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
diario=dfBoutDaily %>% head()
View(dfBoutDaily)
binInteres= dfLong %>% filter(Tiempo==0 & Codigo =="P210472") %>% .[["fileBIN"]]
binInteres
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
diario=dfBoutDaily %>% filter(fileBin==binInteres) %>% kable()
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
diario=dfBoutDaily %>% filter(fileBIN==binInteres) %>% kable()
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
diario=dfBoutDaily %>% filter(fileBIN==binInteres) %>% knitr::kable()
View(dfBoutDaily)
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
diario=dfBoutDaily %>% filter(fileBIN==binInteres)
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
dfBoutDaily %>% filter(fileBIN==binInteres) %>% knitr::kable()
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
dfBoutDaily %>% filter(fileBIN==binInteres & calendario=="bedtime") %>% knitr::kable()
load("../../../../../../Btsync/tablasDeInteres/dfAcelerometria.RData")
dfAcelerometria %>% filter(fileBIN==binInteres) %>% knitr::kable()
View(dfAcelerometria)
names(dfAcelerometria)
load("../../../../../../Btsync/tablasDeInteres/dfAcelerometria.RData")
dfAcelerometria %>% filter(fileBIN==binInteres) %>% select(Codigo,fileBIN, n_bedtime, SIB_bedtime_max,        SIB_bedtime_mean,nSIB_bedtime_min) %>% knitr::kable()
load("../../../../../../Btsync/tablasDeInteres/dfAcelerometria.RData")
dfAcelerometria %>% filter(fileBIN==binInteres) %>% select(Codigo,fileBIN, n_bedtime_n, SIB_bedtime_max,        SIB_bedtime_mean,SIB_bedtime_min) %>% knitr::kable()
load("../../../../../../Btsync/tablasDeInteres/dfAcelerometria.RData")
dfAcelerometria %>% filter(fileBIN==binInteres) %>% select(Codigo,fileBIN, n_bedtime, SIB_bedtime_max,        SIB_bedtime_mean,SIB_bedtime_min) %>% knitr::kable()
dfBoutDaily %>% filter(Tiempo==0 & Codigo =="P210472" %>% calendario=="bedtime") %>% group_by(Variable) %>% summarise(media=mean(duration)/3600)
dfBoutDaily %>% filter(Tiempo==0 & Codigo =="P210472" & calendario=="bedtime") %>% group_by(Variable) %>% summarise(media=mean(duration)/3600)
dfBoutDaily %>% filter(fileBIN==binInteres & calendario=="bedtime") %>% group_by(Variable) %>% summarise(media=mean(duration)/3600)
dfBoutDaily %>% filter(fileBIN==binInteres & calendario=="bedtime") %>% group_by(variable) %>% summarise(media=mean(duration)/3600)
dfBoutDaily %>% filter(fileBIN==binInteres & calendario=="bedtime" & duration>3600*3) %>% group_by(variable) %>% summarise(media=mean(duration)/3600)
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
dfBoutDaily %>% filter(fileBIN==binInteres & calendario=="bedtime" & variable=="SIB") %>% knitr::kable()
dfBoutDaily %>% filter(fileBIN==binInteres & calendario=="bedtime" & duration>3600*4) %>% group_by(variable) %>% summarise(media=mean(duration)/3600)
dfGGIR=read.xlsx("../dudasueno/filtrado-2018-03-27.xlsx",sheet = "f4Daily")
pacienteGGIR=dfGGIR %>% filter(Codigo=="P210472" & Visita=="00")
pacienteGGIR=dfGGIR %>% filter(Codigo=="P210472" & Visita=="00")
pacienteGGIR %>% kable()
pacienteGGIR=dfGGIR %>% filter(Codigo=="P210472" & Visita=="00")
pacienteGGIR %>% knitr::kable()
names(pacienteGGIR)
cat(names(pacienteGGIR))
pacienteGGIR=dfGGIR %>% filter(Codigo=="P210472" & Visita=="00") %>%  select(Codigo,starts_with("acc"),ends_with("sibd"))
pacienteGGIR %>% knitr::kable()
load("../../../../../../Btsync/tablasDeInteres/dfBoutDaily.RData")
dfBoutDaily %>% filter(fileBIN==binInteres & calendario=="bedtime" & variable=="SIB") %>%
mutate(durartion=duration/3600) %>% knitr::kable()
library(acelerometria)
MVPA_B1()
MVPA_B1()
MVPA_B1
